!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=43)}({1:function(e,t){window.getSpinner=function(e){return $("<div />").addClass("spinner spinner--"+e).append($("<div />")).append($("<div />")).append($("<div />")).append($("<div />"))},window.showSpinner=function(e){e.addClass("is-loading").prop("disabled",!0),e.append(getSpinner(30))},window.hideSpinner=function(e){e.removeClass("is-loading").prop("disabled",!1),e.find(".spinner").remove()},window.clearErrors=function(){$(".form-error").removeClass("form-error"),$(".error-text").remove()},window.showError=function(e){$.magnificPopup.open({items:{src:"#error-modal"},type:"inline",closeOnBgClick:!0,callbacks:{elementParse:function(t){$(t.src).find("#error-message").text(e)}}})},window.validateFile=function(e){var t=e.type.match(/(.png)|(.jpeg)|(.jpg)|(.pdf)$/i),n=e.size.toFixed(0)<4194304;return!(!t||!n)},window.scrollToError=function(){$("html, body").animate({scrollTop:$(".form-error:eq(0)").offset().top},500)}},43:function(e,t,n){e.exports=n(44)},44:function(e,t,n){n(1),$(document).ready(function(){$('select[name="country"]').on("change",function(e){var t=$(this).val();axios.get("/user/states",{params:{country:t}}).then(function(e){$('select[name="state"]').html(e.data.states.map(function(e){return $("<option />").val(e.id).text(e.name).attr("selected",0==e.id?"selected":"")})),$('select[name="area-code"]').html(e.data.codes.map(function(e){return $("<option />").val(e.id).text(e.code).attr("selected",0==e.id?"selected":"")}))}).catch(function(){$('select[name="state"]').html($("<option />").val(0).text("Other state").attr("selected","selected")),$('select[name="area-code"]').html($("<option />").val(0).text("Other code").attr("selected","selected"))})}),$("#save-profile").on("click",function(e){e.preventDefault();var t=$(this);showSpinner(t),clearErrors();var n={first_name:$('input[name="f-name"]').val(),last_name:$('input[name="l-name"]').val(),email:$('input[name="email"]').val(),phone_number:$('input[name="tel"]').val(),area_code:$('select[name="area-code"]').val(),country:$('select[name="country"]').val(),state:$('select[name="state"]').val(),city:$('input[name="city"]').val(),address:$('input[name="address"]').val(),postcode:$('input[name="post-code"]').val(),passport:$('input[name="government"]').val(),expiration_date:$('input[name="expiry"]').val(),birth_date:$('input[name="birth"]').val(),birth_country:$('select[name="country-birth"]').val()};axios.post("/user/profile",qs.stringify(n)).then(function(){hideSpinner(t),$.magnificPopup.open({items:{src:"#profile-modal"},type:"inline",closeOnBgClick:!0})}).catch(function(e){hideSpinner(t);var n=e.response.data,r=n.errors,a=n.message;422==e.response.status?($.each(r,function(e,t){$(".profile_"+e).addClass("form-error"),$(".profile_"+e).after($("<span />").addClass("error-text").text(t))}),scrollToError()):showError(a)})})})}});