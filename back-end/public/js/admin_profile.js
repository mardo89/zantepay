!function(e){function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r={};n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=57)}({1:function(e,n){window.getSpinner=function(e){return $("<div />").addClass("spinner spinner--"+e).append($("<div />")).append($("<div />")).append($("<div />")).append($("<div />"))},window.showSpinner=function(e){e.addClass("is-loading").prop("disabled",!0),e.append(getSpinner(30))},window.hideSpinner=function(e){e.removeClass("is-loading").prop("disabled",!1),e.find(".spinner").remove()},window.clearErrors=function(){$(".form-error").removeClass("form-error"),$(".error-text").remove()},window.showError=function(e){$.magnificPopup.open({items:{src:"#error-modal"},type:"inline",closeOnBgClick:!0,callbacks:{elementParse:function(n){$(n.src).find("#error-message").text(e)}}})},window.validateFile=function(e){var n=e.type.match(/(.png)|(.jpeg)|(.jpg)|(.pdf)$/i),r=e.size.toFixed(0)<4194304;return!(!n||!r)}},57:function(e,n,r){e.exports=r(58)},58:function(e,n,r){r(1),$(document).ready(function(){$('select[name="user-role"]').on("change",function(e){e.preventDefault(),clearErrors();var n={uid:$("#user-profile-id").val(),role:$(this).val()};axios.post("/admin/profile",qs.stringify(n)).then(function(){$.magnificPopup.open({items:{src:"#save-profile-modal"},type:"inline",closeOnBgClick:!0})}).catch(function(e){var n=e.response.data,r=n.message,t=n.errors;422==e.response.status?$.each(t,function(e,n){$('#user-profile select[name="user-role"]').parents(".form-group").addClass("form-error"),$('#user-profile select[name="user-role"]').after($("<span />").addClass("error-text").text(n))}):showError(r)})}),$("#remove-user").on("click",function(e){e.preventDefault();var n=$(this);showSpinner(n),clearErrors();var r={uid:$("#user-profile-id").val()};axios.post("/admin/profile/remove",qs.stringify(r)).then(function(){hideSpinner(n),$.magnificPopup.open({items:{src:"#remove-profile-modal"},type:"inline",closeOnBgClick:!0,callbacks:{close:function(){window.location.pathname="/admin/users"}}})}).catch(function(e){hideSpinner(n);var r=e.response.data.message;showError(r)})}),$(".approve-documents").on("click",function(e){var n=this;e.preventDefault();var r=$(this);showSpinner(r),clearErrors();var t={uid:$("#user-profile-id").val(),type:$(this).parent().find('input[name="document-type"]').val()};axios.post("document/approve",qs.stringify(t)).then(function(e){hideSpinner(r);var t=$(n).parents(".row");t.find(".document-actions").before($("<div />").addClass("col-md-3 col-sm-4 col-5 mb-20 document-status").html(e.data.status)),t.find(".document-actions").remove(),t.find(".document-reason").remove(),$.magnificPopup.open({items:{src:"#approve-documents-modal"},type:"inline",closeOnBgClick:!0})}).catch(function(e){hideSpinner(r);var n=e.response.data.message;showError(n)})}),$(".decline-documents").on("click",function(e){var n=this;e.preventDefault();var r=$(this);showSpinner(r),clearErrors();var t={uid:$("#user-profile-id").val(),type:$(this).parent().find('input[name="document-type"]').val(),reason:$(this).parents(".row").find('input[name="decline-reason"]').val()};axios.post("document/decline",qs.stringify(t)).then(function(e){hideSpinner(r);var t=$(n).parents(".row");t.find(".document-actions").before($("<div />").addClass("col-md-3 col-sm-4 col-5 mb-20 document-status").html(e.data.status)),t.find(".document-actions").remove(),t.find(".document-reason").remove(),$.magnificPopup.open({items:{src:"#decline-documents-modal"},type:"inline",closeOnBgClick:!0})}).catch(function(e){hideSpinner(r);var t=e.response.data,a=t.message,o=t.errors;422==e.response.status?$.each(o,function(e,r){$(n).parents(".row").find('input[name="decline-reason"]').parent().addClass("form-error"),$(n).parents(".row").find('input[name="decline-reason"]').after($("<span />").addClass("error-text").text(r))}):showError(a)})}),$("#add-znx").on("click",function(e){e.preventDefault();var n=$(this);showSpinner(n),clearErrors();var r={uid:$("#user-profile-id").val(),amount:$('input[name="znx-amount"]').val()};axios.post("/admin/wallet/znx",qs.stringify(r)).then(function(e){hideSpinner(n),$('input[name="znx-amount"]').val(""),$("#total-znx-amount").html(e.data.totalAmount),$.magnificPopup.open({items:{src:"#add-znx-modal"},type:"inline",closeOnBgClick:!0})}).catch(function(e){hideSpinner(n);var r=e.response.data,t=r.message,a=r.errors;422==e.response.status?$.each(a,function(e,n){$('input[name="znx-amount"]').parent().addClass("form-error"),$('input[name="znx-amount"]').after($("<span />").addClass("error-text").text(n))}):showError(t)})}),$(".update-wallet").on("click",function(e){var n=this;e.preventDefault();var r=$(this);showSpinner(r),clearErrors();var t={uid:$("#user-profile-id").val(),currency:$(this).parents(".wallet-address-group").find('input[name="wallet-currency"]').val(),address:$(this).parents(".wallet-address-group").find('input[name="wallet-address"]').val()};axios.post("/admin/wallet",qs.stringify(t)).then(function(){hideSpinner(r),$.magnificPopup.open({items:{src:"#wallet-address-modal"},type:"inline",closeOnBgClick:!0})}).catch(function(e){hideSpinner(r);var t=e.response.data,a=t.message,o=t.errors;422==e.response.status?$.each(o,function(e,r){$(n).parents(".wallet-address-group").find('input[name="wallet-address"]').parent().addClass("form-error"),$(n).parents(".wallet-address-group").find('input[name="wallet-address"]').after($("<span />").addClass("error-text").text(r))}):showError(a)})})})}});