!function(e){var n={};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=60)}({1:function(e,n){var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e};window.getSpinner=function(e){return $("<div />").addClass("spinner spinner--"+e).append($("<div />")).append($("<div />")).append($("<div />")).append($("<div />"))},window.showSpinner=function(e){e.addClass("is-loading").prop("disabled",!0),e.append(getSpinner(30))},window.hideSpinner=function(e){e.removeClass("is-loading").prop("disabled",!1),e.find(".spinner").remove()},window.clearErrors=function(){$(".form-error").removeClass("form-error"),$(".error-text").remove()},window.showError=function(e){$.magnificPopup.open({items:{src:"#error-modal"},type:"inline",closeOnBgClick:!0,callbacks:{elementParse:function(n){$(n.src).find("#error-message").text(e)}}})},window.validateFile=function(e){var n=e.type.match(/(.png)|(.jpeg)|(.jpg)|(.pdf)$/i),o=e.size.toFixed(0)<4194304;return!(!n||!o)},window.scrollToError=function(){$("html, body").animate({scrollTop:$(".form-error:eq(0)").offset().top},500)},window.showConfirmation=function(e,n,o){$.magnificPopup.open({items:{src:"#confirmation-modal"},type:"inline",showCloseBtn:!1,closeOnBgClick:!1,callbacks:{elementParse:function(o){$(o.src).find("#confirmation-message").text(e),$(o.src).find("#accept_action").on("click",function(e){e.preventDefault(),$.magnificPopup.close(),"function"==typeof n&&n()}),$(o.src).find("#reject_action").on("click",function(e){e.preventDefault(),$.magnificPopup.close()})}}})},window.showPopover=function(e){$(".popover").remove();var n=$("<div />").addClass("popover").append($("<i />").addClass("fa fa-check-circle")).append($("<div />").addClass("popover__content").html(e)).append($("<a />").addClass("popover__close").attr("href","").html("Close").on("click",function(e){e.preventDefault(),$(".popover").remove()}));$("body").prepend(n),setTimeout(function(){n.remove()},5e3)},window.showProtectionDialog=function(e){$.magnificPopup.open({items:{src:"#protection-modal"},type:"inline",showCloseBtn:!0,closeOnBgClick:!0,callbacks:{elementParse:function(n){$(n.src).find("#frm_protection").find('input[name="signature"]').val(""),$(n.src).find("#frm_protection").off("submit").on("submit",function(n){n.preventDefault(),sessionStorage.setItem("signature",$(this).find('input[name="signature"]').val()),$.magnificPopup.close(),e()})}}})},window.processProtectionRequest=function(e,n){var t=sessionStorage.getItem("signature");if(sessionStorage.removeItem("signature"),!t){var r=(new Date).valueOf();return sessionStorage.setItem("action_timestamp",r),o({},n,{action:e,action_timestamp:r})}return o({},n,{action_timestamp:sessionStorage.getItem("action_timestamp"),signature:t})},window.processProtectionResponse=function(e,n,o){205==e?"function"==typeof n&&showProtectionDialog(n):"function"==typeof o&&o()}},60:function(e,n,o){e.exports=o(61)},61:function(e,n,o){o(1);$(document).ready(function(){$('select[name="user-role"]').on("change",function(e){var n=this;e.preventDefault(),clearErrors();var o=processProtectionRequest("Change User Role",{uid:$("#user-profile-id").val(),role:$(this).val()});axios.post("/admin/profile",qs.stringify(o)).then(function(e){processProtectionResponse(e.status,function(){$(n).trigger("change")},function(){$.magnificPopup.open({items:{src:"#save-profile-modal"},type:"inline",closeOnBgClick:!0})})}).catch(function(e){var n=e.response.data,o=n.message,t=n.errors;422==e.response.status?($.each(t,function(e,n){$('#user-profile select[name="user-role"]').parents(".form-group").addClass("form-error"),$('#user-profile select[name="user-role"]').after($("<span />").addClass("error-text").text(n))}),scrollToError()):showError(o)})}),$("#remove-user").on("click",function(e){var n=this;e.preventDefault(),showConfirmation("Are you sure you want to delete this user?",function(){!function e(n){var o=n;showSpinner(o),clearErrors();var t=processProtectionRequest("Delete User",{uid:$("#user-profile-id").val()});axios.post("/admin/profile/remove",qs.stringify(t)).then(function(t){hideSpinner(o),processProtectionResponse(t.status,function(){e(n)},function(){$.magnificPopup.open({items:{src:"#remove-profile-modal"},type:"inline",closeOnBgClick:!0,callbacks:{close:function(){window.location="/admin/users"}}})})}).catch(function(e){hideSpinner(o);var n=e.response.data.message;showError(n)})}($(n))})}),$(".approve-documents").on("click",function(e){var n=this;e.preventDefault();var o=$(this);showSpinner(o),clearErrors();var t={uid:$("#user-profile-id").val(),type:$(this).parent().find('input[name="document-type"]').val()};axios.post("document/approve",qs.stringify(t)).then(function(e){hideSpinner(o);var t=$(n).parents(".row");t.find(".document-actions").before($("<div />").addClass("col-md-3 col-sm-4 col-5 mb-20 document-status").html(e.data.status)),t.find(".document-actions").remove(),t.find(".document-reason").remove(),$.magnificPopup.open({items:{src:"#approve-documents-modal"},type:"inline",closeOnBgClick:!0})}).catch(function(e){hideSpinner(o);var n=e.response.data.message;showError(n)})}),$(".decline-documents").on("click",function(e){var n=this;e.preventDefault();var o=$(this);showSpinner(o),clearErrors();var t={uid:$("#user-profile-id").val(),type:$(this).parent().find('input[name="document-type"]').val(),reason:$(this).parents(".row").find('input[name="decline-reason"]').val()};axios.post("document/decline",qs.stringify(t)).then(function(e){hideSpinner(o);var t=$(n).parents(".row");t.find(".document-actions").before($("<div />").addClass("col-md-3 col-sm-4 col-5 mb-20 document-status").html(e.data.status)),t.find(".document-actions").remove(),t.find(".document-reason").remove(),$.magnificPopup.open({items:{src:"#decline-documents-modal"},type:"inline",closeOnBgClick:!0})}).catch(function(e){hideSpinner(o);var t=e.response.data,r=t.message,i=t.errors;422==e.response.status?($.each(i,function(e,o){$(n).parents(".row").find('input[name="decline-reason"]').parent().addClass("form-error"),$(n).parents(".row").find('input[name="decline-reason"]').after($("<span />").addClass("error-text").text(o))}),scrollToError()):showError(r)})}),$("#add-ico-znx").on("click",function(e){var n=this;e.preventDefault();var o=$(this);showSpinner(o),clearErrors();var t=processProtectionRequest("Add ZNX from ICO pool",{uid:$("#user-profile-id").val(),amount:$('.ico-pool input[name="znx-amount"]').val()});axios.post("/admin/wallet/add-ico-znx",qs.stringify(t)).then(function(e){hideSpinner(o),processProtectionResponse(e.status,function(){$(n).trigger("click")},function(){$('.ico-pool input[name="znx-amount"]').val(""),$("#total-znx-amount").html(e.data.totalAmount),$.magnificPopup.open({items:{src:"#add-ico-znx-modal"},type:"inline",closeOnBgClick:!0,callbacks:{elementParse:function(e){$(e.src).find(".znx_added").text(t.amount)}}})})}).catch(function(e){hideSpinner(o);var n=e.response.data,t=n.message,r=n.errors;422==e.response.status?($.each(r,function(e,n){$('.ico-pool input[name="znx-amount"]').parent().addClass("form-error"),$('.ico-pool input[name="znx-amount"]').after($("<span />").addClass("error-text").text(n))}),scrollToError()):showError(t)})}),$("#add-foundation-znx").on("click",function(e){var n=this;e.preventDefault();var o=$(this);showSpinner(o),clearErrors();var t=processProtectionRequest("Add ZNX from Foundation pool",{uid:$("#user-profile-id").val(),amount:$('.foundation-pool input[name="znx-amount"]').val()});axios.post("/admin/wallet/add-foundation-znx",qs.stringify(t)).then(function(e){hideSpinner(o),processProtectionResponse(e.status,function(){$(n).trigger("click")},function(){$('.foundation-pool input[name="znx-amount"]').val(""),$("#total-znx-amount").html(e.data.totalAmount),$.magnificPopup.open({items:{src:"#add-foundation-znx-modal"},type:"inline",closeOnBgClick:!0,callbacks:{elementParse:function(e){$(e.src).find(".znx_added").text(t.amount)}}})})}).catch(function(e){hideSpinner(o);var n=e.response.data,t=n.message,r=n.errors;422==e.response.status?($.each(r,function(e,n){$('.foundation-pool input[name="znx-amount"]').parent().addClass("form-error"),$('.foundation-pool input[name="znx-amount"]').after($("<span />").addClass("error-text").text(n))}),scrollToError()):showError(t)})}),$(".update-wallet").on("click",function(e){var n=this;e.preventDefault();var o=$(this);showSpinner(o),clearErrors();var t=processProtectionRequest("Change user's wallet address",{uid:$("#user-profile-id").val(),currency:$(this).parents(".wallet-address-group").find('input[name="wallet-currency"]').val(),address:$(this).parents(".wallet-address-group").find('input[name="wallet-address"]').val()});axios.post("/admin/wallet",qs.stringify(t)).then(function(e){hideSpinner(o),processProtectionResponse(e.status,function(){$(n).trigger("click")},function(){$.magnificPopup.open({items:{src:"#wallet-address-modal"},type:"inline",closeOnBgClick:!0})})}).catch(function(e){hideSpinner(o);var t=e.response.data,r=t.message,i=t.errors;422==e.response.status?($.each(i,function(e,o){$(n).parents(".wallet-address-group").find('input[name="wallet-address"]').parent().addClass("form-error"),$(n).parents(".wallet-address-group").find('input[name="wallet-address"]').after($("<span />").addClass("error-text").text(o))}),scrollToError()):showError(r)})})})}});