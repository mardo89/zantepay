!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=58)}({1:function(e,t){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};window.getSpinner=function(e){return $("<div />").addClass("spinner spinner--"+e).append($("<div />")).append($("<div />")).append($("<div />")).append($("<div />"))},window.showSpinner=function(e){e.addClass("is-loading").prop("disabled",!0),e.append(getSpinner(30))},window.hideSpinner=function(e){e.removeClass("is-loading").prop("disabled",!1),e.find(".spinner").remove()},window.clearErrors=function(){$(".form-error").removeClass("form-error"),$(".error-text").remove()},window.showError=function(e){$.magnificPopup.open({items:{src:"#error-modal"},type:"inline",closeOnBgClick:!0,callbacks:{elementParse:function(t){$(t.src).find("#error-message").text(e)}}})},window.validateFile=function(e){var t=e.type.match(/(.png)|(.jpeg)|(.jpg)|(.pdf)$/i),r=e.size.toFixed(0)<4194304;return!(!t||!r)},window.scrollToError=function(){$("html, body").animate({scrollTop:$(".form-error:eq(0)").offset().top},500)},window.showConfirmation=function(e,t,r){$.magnificPopup.open({items:{src:"#confirmation-modal"},type:"inline",showCloseBtn:!1,closeOnBgClick:!1,callbacks:{elementParse:function(r){$(r.src).find("#confirmation-message").text(e),$(r.src).find("#accept_action").off("click").on("click",function(e){e.preventDefault(),$.magnificPopup.close(),"function"==typeof t&&t()}),$(r.src).find("#reject_action").off("click").on("click",function(e){e.preventDefault(),$.magnificPopup.close()})}}})},window.showPopover=function(e){$(".popover").remove();var t=$("<div />").addClass("popover").append($("<i />").addClass("fa fa-check-circle")).append($("<div />").addClass("popover__content").html(e)).append($("<a />").addClass("popover__close").attr("href","").html("Close").on("click",function(e){e.preventDefault(),$(".popover").remove()}));$("body").prepend(t),setTimeout(function(){t.remove()},5e3)},window.showProtectionDialog=function(e){$.magnificPopup.open({items:{src:"#protection-modal"},type:"inline",showCloseBtn:!0,closeOnBgClick:!0,callbacks:{elementParse:function(t){$(t.src).find("#frm_protection").find('input[name="signature"]').val(""),$(t.src).find("#frm_protection").off("submit").on("submit",function(t){t.preventDefault(),sessionStorage.setItem("signature",$(this).find('input[name="signature"]').val()),$.magnificPopup.close(),e()})}}})},window.processProtectionRequest=function(e,t){var a=sessionStorage.getItem("signature");if(sessionStorage.removeItem("signature"),!a){var n=(new Date).valueOf();return sessionStorage.setItem("action_timestamp",n),r({},t,{action:e,action_timestamp:n})}return r({},t,{action_timestamp:sessionStorage.getItem("action_timestamp"),signature:a})},window.processProtectionResponse=function(e,t,r){205==e?"function"==typeof t&&showProtectionDialog(t):"function"==typeof r&&r()}},58:function(e,t,r){e.exports=r(59)},59:function(e,t,r){r(1);$(document).ready(function(){var e;$("#search_user_frm").on("submit",function(e){e.preventDefault();var t=[];$(this).find('input[name="role-filter"]:checked').each(function(){t.push($(this).val())});var r=[];$(this).find('input[name="status-filter"]:checked').each(function(){r.push($(this).val())});var a=[];$(this).find('input[name="referrer-filter"]:checked').each(function(){a.push($(this).val())});var n=$(this).find('input[name="search-by-email"]').val(),i=$(this).find('input[name="date_from_filter"]').val(),s=$(this).find('input[name="date_to_filter"]').val(),o=parseInt($(".page-item.active .page-link").html()),l=isNaN(o)?1:o,c=2,p="desc";$(".sort.sort-asc").length&&(c=$(".sort.sort-asc").index(),p="asc"),$(".sort.sort-desc").length&&(c=$(".sort.sort-desc").index(),p="desc");var d=$(this).find('button[type="submit"]');showSpinner(d),clearErrors(),$(".pagination").hide(),axios.get("/admin/users/search",{params:{role_filter:t,status_filter:r,referrer_filter:a,name_filter:n,date_from_filter:i,date_to_filter:s,page:l,sort_index:c,sort_order:p}}).then(function(e){hideSpinner(d),function(){var e=[];$('input[name="role-filter"]:checked').each(function(){e.push($(this).val())});var t=[];$('input[name="referrer-filter"]:checked').each(function(){t.push($(this).val())});var r=[];$('input[name="status-filter"]:checked').each(function(){r.push($(this).val())});var a=$('input[name="date_from_filter"]').val(),n=$('input[name="date_to_filter"]').val(),i=$('input[name="search-by-email"]').val(),s={roleFilter:e,referrerFilter:t,statusFilter:r,dateFromFilter:a,dateToFilter:n,searchFilter:i};sessionStorage.setItem("userFormState",JSON.stringify(s))}(),0===$("#total_found").length&&$("#users-list").before($("<p />").addClass("primary-color pull-right").attr("id","total_found")),$("#total_found").html("Total found: <strong>"+e.data.totalFound+"</strong>"),$("#users-list tbody").empty(),$(".pagination .page-item").empty().hide(),e.data.usersList.forEach(function(e){$("#users-list tbody").append($("<tr />").attr("id",e.id).append($("<td />").attr("width",100).addClass("col-center").append($("<div />").addClass("thumb-60").append($("<img />").attr({src:e.avatar,alt:e.name})))).append($("<td />").append($("<a />").addClass("primary-color").attr("href",e.profileLink).html(e.email))).append($("<td />").html(e.name)).append($("<td />").html(e.registered)).append($("<td />").html(e.role)).append($("<td />").html(e.status)).append($("<td />").html(e.hasReferrals)))});for(var t=1;t<=e.data.paginator.totalPages;t++){var r=e.data.paginator.currentPage==t?"page-item active":"page-item";$(".pagination").append($("<li />").addClass(r).append($("<a />").addClass("page-link").attr("href","#").html(t)))}e.data.paginator.totalPages>1&&($(".pagination").prepend($("<li />").addClass("page-item").append($("<a />").addClass("page-link prev-page-link").attr("href","#").html("Previous"))).append($("<li />").addClass("page-item").append($("<a />").addClass("page-link next-page-link").attr("href","#").html("Next"))),$(".pagination").show())}).catch(function(e){hideSpinner(d);var t=e.response.data.message;showError(t)})}),$(".pagination").on("click",".page-link",function(e){e.preventDefault();var t=$(".page-item.active"),r=$(this).parents(".page-item");return(!$(this).hasClass("prev-page-link")||!(r=(t=$(".page-item.active")).prev()).find(".prev-page-link").length)&&((!$(this).hasClass("next-page-link")||!(r=(t=$(".page-item.active")).next()).find(".next-page-link").length)&&(t.removeClass("active"),r.addClass("active"),void $("#search_user_frm").trigger("submit")))}),$("#users-list .sort").on("click",function(e){e.preventDefault(),$(this).hasClass("sort-asc")?($(".sort").removeClass("sort-asc").removeClass("sort-desc"),$(this).addClass("sort-desc")):($(".sort").removeClass("sort-asc").removeClass("sort-desc"),$(this).addClass("sort-asc")),$("#search_user_frm").trigger("submit")}),$('#search_user_frm button[type="submit"]').on("click",function(e){e.preventDefault(),$(".pagination .page-item").empty(),$("#search_user_frm").trigger("submit")}),$(".search-cross").on("click",function(e){e.preventDefault(),$('input[name="search-by-email"]').val("")}),$("#import_users").on("click",function(e){e.preventDefault();var t=[];$("#search_user_frm").find('input[name="role-filter"]:checked').each(function(){t.push($(this).val())});var r=[];$("#search_user_frm").find('input[name="status-filter"]:checked').each(function(){r.push($(this).val())});var a=[];$("#search_user_frm").find('input[name="referrer-filter"]:checked').each(function(){a.push($(this).val())});var n=$("#search_user_frm").find('input[name="search-by-email"]').val(),i=$("#search_user_frm").find('input[name="date_from_filter"]').val(),s=$("#search_user_frm").find('input[name="date_to_filter"]').val(),o=parseInt($(".page-item.active .page-link").html()),l=isNaN(o)?1:o,c=2,p="desc";$(".sort.sort-asc").length&&(c=$(".sort.sort-asc").index(),p="asc"),$(".sort.sort-desc").length&&(c=$(".sort.sort-desc").index(),p="desc");var d={role_filter:t,status_filter:r,referrer_filter:a,name_filter:n,date_from_filter:i,date_to_filter:s,page:l,sort_index:c,sort_order:p},f="/admin/users/import?"+jQuery.param(d);window.open(f,"_blank")}),(e=sessionStorage.getItem("userFormState"))&&(e=JSON.parse(e),$('input[name="role-filter"]').each(function(){-1===e.roleFilter.indexOf($(this).val())&&$(this).prop("checked",!1)}),$('input[name="referrer-filter"]').each(function(){-1===e.referrerFilter.indexOf($(this).val())&&$(this).prop("checked",!1)}),$('input[name="status-filter"]').each(function(){-1===e.statusFilter.indexOf($(this).val())&&$(this).prop("checked",!1)}),$('input[name="date_from_filter"]').val(e.dateFromFilter),$('input[name="date_to_filter"]').val(e.dateToFilter),$('input[name="search-by-email"]').val(e.searchFilter),$("#search_user_frm").trigger("submit"))})}});