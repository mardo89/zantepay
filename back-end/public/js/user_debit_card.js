!function(e){var r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=51)}({1:function(e,r){window.getSpinner=function(e){return $("<div />").addClass("spinner spinner--"+e).append($("<div />")).append($("<div />")).append($("<div />")).append($("<div />"))},window.showSpinner=function(e){e.addClass("is-loading").prop("disabled",!0),e.append(getSpinner(30))},window.hideSpinner=function(e){e.removeClass("is-loading").prop("disabled",!1),e.find(".spinner").remove()},window.clearErrors=function(){$(".form-error").removeClass("form-error"),$(".error-text").remove()},window.showError=function(e){$.magnificPopup.open({items:{src:"#error-modal"},type:"inline",closeOnBgClick:!0,callbacks:{elementParse:function(r){$(r.src).find("#error-message").text(e)}}})},window.validateFile=function(e){var r=e.type.match(/(.png)|(.jpeg)|(.jpg)|(.pdf)$/i),n=e.size.toFixed(0)<4194304;return!(!r||!n)}},51:function(e,r,n){e.exports=n(52)},52:function(e,r,n){n(1),$(document).ready(function(){$("#dc_design").on("submit",function(e){e.preventDefault();var r=$("#dc_design").find('button[type="submit"]');showSpinner(r);var n={design:$('input[name="card-type"]:checked').val()};axios.post("/user/debit-card",qs.stringify(n)).then(function(e){hideSpinner(r),window.location=e.data.nextStep}).catch(function(e){hideSpinner(r);var n=e.response.data.message;showError(n)})}),$("#dc_documents").on("submit",function(e){e.preventDefault(),clearErrors();var r=new FormData;if($('input[name="confirm"]').prop("checked"))r.append("verify_later",1);else{r.append("verify_later",0);var n=!0;if($.each($("#document-files")[0].files,function(e,t){if(!validateFile(t))return n=!1,!1;r.append("document_files[]",t)}),!n)return $(".drag-drop-area").after($("<div />").addClass("error-text").text("Incorrect files format.")),!1}var t=$("#dc_documents").find('button[type="submit"]');showSpinner(t),axios.post("/user/debit-card-documents",r).then(function(e){hideSpinner(t),window.location=e.data.nextStep}).catch(function(e){hideSpinner(t);var r=e.response.data,n=r.message,i=r.errors;422==e.response.status?$.each(i,function(e,r){$(".drag-drop-area").after($("<div />").addClass("error-text").text(r))}):showError(n)})}),$("#dc_address").on("submit",function(e){e.preventDefault(),clearErrors();var r=new FormData;if($('input[name="confirm"]').prop("checked"))r.append("verify_later",1);else{r.append("verify_later",0);var n=!0;if($.each($("#address-files")[0].files,function(e,t){if(!validateFile(t))return n=!1,!1;r.append("address_files[]",t)}),!n)return $(".drag-drop-area").after($("<div />").addClass("error-text").text("Incorrect files format.")),!1}var t=$("#dc_address").find('button[type="submit"]');showSpinner(t),axios.post("/user/debit-card-address",r).then(function(e){hideSpinner(t),window.location=e.data.nextStep}).catch(function(e){hideSpinner(t);var r=e.response.data,n=r.message,i=r.errors;422==e.response.status?$.each(i,function(e,r){$(".drag-drop-area").after($("<div />").addClass("error-text").text(r))}):showError(n)})})})}});